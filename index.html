<!DOCTYPE html>
<html>
<head>
  <title>Alfred DB Test</title>

  <meta charset="UTF-8">
  <title>Alfred - Chat</title>
  <link rel="stylesheet" href="styles.css">

  <script type="module">
    // Importar los m√≥dulos desde Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
    import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-database.js";

    // üîë TU CONFIGURACI√ìN AQU√ç
    const firebaseConfig = {
        apiKey: "AIzaSyBRaS3532rAu_epRz8NMAGVonhCjauPsoc",
        authDomain: "alfred-f2330.firebaseapp.com",
        databaseURL: "https://alfred-f2330-default-rtdb.firebaseio.com",
        projectId: "alfred-f2330",
        storageBucket: "alfred-f2330.firebasestorage.app",
        messagingSenderId: "958011202011",
        appId: "1:958011202011:web:831d83a1826a2ab1ba2ffe"
    };

    // Inicializar Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // Escribir datos de prueba
    function escribirDatos() {
      set(ref(db, 'usuarios/usuario1'), {
        nombre: "Onix",
        raza: "Pitbull",
        edad: 5
      }).then(() => {
        alert("‚úÖ Datos guardados");
      }).catch((error) => {
        console.error("‚ùå Error al guardar: ", error);
      });
    }

    // Leer datos
    function leerDatos() {
      const dbRef = ref(db);
      get(child(dbRef, 'usuarios/usuario1')).then((snapshot) => {
        if (snapshot.exists()) {
          console.log("Datos:", snapshot.val());
          alert("üêæ Onix: " + JSON.stringify(snapshot.val()));
        } else {
          alert("No se encontraron datos.");
        }
      }).catch((error) => {
        console.error("‚ùå Error al leer: ", error);
      });
    }

    window.escribirDatos = escribirDatos;
    window.leerDatos = leerDatos;
  </script>
</head>
<body class="chat">
    <div class="chat-window">
      <div id="chat-output"></div>
      <input type="text" id="chat-input" placeholder="Habla con Alfred...">
      <button onclick="enviarMensaje()">Enviar</button>
    </div>
  </body>
  <script src="chat.js"></script>
</html>
